DSP对接模块设计实现

一、任务描述
  1.匹配广告、记录广告日志
  2.根据业务规则，对每个用户生成候选广告集，然后根据算法对候选广告集进行排序
  3.广告库存储，定期更新广告库


二、输入描述

  1.用户数据
      
               搜索数据：用户在几大搜索网站的搜索行为，包括用户的搜索词。                                          
               电商数据： 用户在电商网站的搜索词和访问单品的title关键词 等             
               网页数据：用户访问网页的title关键词
               示例：
           fa9b32032e9edddffdbe8cb8ee11633f009\001
                             百度:1||笔记本电脑:1\001
                             淘宝:1||连衣裙:1\001
                             女性时尚:2||时尚:1 爱丽:1\001
                             数码:1||专区:1 平板电脑:1 168百:1 平板:1 英特芯:1
               
     
  2. 广告数据
      
              广告单详情：广告主对广告单的描述，包括定向关键词、广告尺寸、定向地区人群等
      
              示例：003\001
                             关键词:板鞋 女鞋 平底鞋\001
                             尺寸：100*100\001
                             定向人群：女性                                    
     
三、实现思路

     1.广告数据存储：
                              要维持并迅速更新本地广告库，使本地广告库和DSP平台广告库同步
                              广告数据使用hbase进行存储
                              
     2.匹配、日志服务实现：
                              该模块和DSP平台进行交互，所以提供http接口，从而使DSP平台可以直接调用。同样提供如下REST风格的HTTP接口：
            http://<ip>:<port>/<method>?{query_string}
                               实现两个接口：<1> 广告匹配，输入用户 数据，返回匹配的广告
                         <2> 记录广告日志，DSP平台将广告投放及反馈信息记录日志
     3.匹配策略：
                             业务逻辑是广告主制定的广告匹配策略，例如对特定host或特定地域的人群投放，时间选择、黑名单、白名单等。
                             通过业务逻辑的过滤，形成候选广告集合  对候选广告集合的广告根据预测点击率进行排序。例如从用户广告点击日志建立LR模型。                                                         


